<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>MEOWiN</title>
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="header_footer.css">
    <script src="./header.js"></script>
    <link rel="stylesheet" href="setting.css">
    <link rel="stylesheet" href="reserve.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cherry+Bomb+One&family=Noto+Sans+TC:wght@100..900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="header">
        <div class="menu">
            <a class=tag href="./about.html">關於我們</a>
            <a class=tag href="./info.html">館內資訊</a>
            <a class=tag href="./news.html">最新消息</a>
            <a class=logo href="./index.html"><img src="./image/logo_longer.png" alt=""></a>
            <a class=tag href="./qa.html">常見問題</a>
            <a class=tag href="./contact.html">聯絡我們</a>
            <a class=tag href="./reserve.html">立即預約</a>
            <div class="ham" id="ham">
                <span class="ham-line"></span>
                <span class="ham-line"></span>
                <span class="ham-line"></span>
            </div>
            <div class="navbar" id="navbar">
                <a class=tag href="./about.html">關於我們</a>
                <a class=tag href="./info.html">館內資訊</a>
                <a class=tag href="./news.html">最新消息</a>
                <a class=tag href="./qa.html">常見問題</a>
                <a class=tag href="./contact.html">聯絡我們</a>
                <a class=tag href="./reserve.html">立即預約</a>
            </div>
        </div>
        
    </div>
    <div class="banner">
        <div class="banner-image">
            <img src="./image/other-bg.jpg" alt="">
        </div>
        <div class="wrap">
            <span>RESERVE</span>
        </div>
    </div>
    <section class="section">
        <div class="reserve-container">
            <div class="calendar-container">
                <div class="calendar-header">
                    <div class="calendar-navigation">
                        <span id="calendar-prev"
                              class="material-symbols-rounded">
                            ＜
                        </span>
                        <p class="calendar-current-date"></p>
                        <span id="calendar-next"
                              class="material-symbols-rounded">
                            ＞
                        </span>
                    </div>
                </div>
            
                <div class="calendar-body">
                    <ul class="calendar-weekdays">
                        <li>日</li>
                        <li>一</li>
                        <li>二</li>
                        <li>三</li>
                        <li>四</li>
                        <li>五</li>
                        <li>六</li>
                    </ul>
                    <ul class="calendar-dates"></ul>
                </div>
            </div>
            <div class="select-container">
                <div class="time-select">
                    <label class="time">11:00~14:30</label>
                    <label class="time">15:00~17:30</label>
                    <label class="time">18:00~20:30</label>
                </div>
                <div class="people">
                    <span>選擇人數</span>
                    <div class="num">
                        <label class="minus">－</label>
                        <span>1</span>
                        <label class="plus">＋</label>
                    </div>
                    <div class="total">$ 300</div>
                </div>    
                
                <label class="reserveBtn">立即預約</label>
            </div>
        </div>
        
    </section>
    <div class="footerlist">
        <div class="footer">
            <a class=logo href="./index.html"><img src="./image/logo.png" alt=""></a>
            <div class="info">
                <p>地址：桃園市中壢區復興路46號</p>
                <p>電話：03- 3456789</p>
                <div class="followus">
                    <p>FOLLOW US</p>
                    <a class=ig href=""><img src="./image/instagram-icon.png" alt=""></a>
                    <a class=fb href=""><img src="./image/facebook-icon.png" alt=""></a>
                    <a class=fb href=""><img src="./image/line-icon.png" alt=""></a>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p>©2024 Copyrights MEOWiN All Rights Reserved </p>
        </div>
    </div>
    <script>
        let date = new Date();
    let year = date.getFullYear();
    let month = date.getMonth();
    
    const day = document.querySelector(".calendar-dates");
    
    const currdate = document
        .querySelector(".calendar-current-date");
    
    const prenexIcons = document
        .querySelectorAll(".calendar-navigation span");
    
    // Array of month names
    const months = [
        "一月",
        "二月",
        "三月",
        "四月",
        "五月",
        "六月",
        "七月",
        "八月",
        "九月",
        "十月",
        "十一月",
        "十二月"
    ];
    
    // Function to generate the calendar
    const manipulate = () => {
    
        // Get the first day of the month
        let dayone = new Date(year, month, 1).getDay();
    
        // Get the last date of the month
        let lastdate = new Date(year, month + 1, 0).getDate();
    
        // Get the day of the last date of the month
        let dayend = new Date(year, month, lastdate).getDay();
    
        // Get the last date of the previous month
        let monthlastdate = new Date(year, month, 0).getDate();
    
        // Variable to store the generated calendar HTML
        let lit = "";
    
        // Loop to add the last dates of the previous month
        for (let i = dayone; i > 0; i--) {
            lit +=
                `<li class="inactive">${monthlastdate - i + 1}</li>`;
        }
    
        // Loop to add the dates of the current month
        for (let i = 1; i <= lastdate; i++) {
    
            // Check if the current date is today
            let isToday = i === date.getDate()
                && month === new Date().getMonth()
                && year === new Date().getFullYear()
                ? "active"
                : "";
            lit += `<li class="${isToday}">${i}</li>`;
        }
    
        // Loop to add the first dates of the next month
        for (let i = dayend; i < 6; i++) {
            lit += `<li class="inactive">${i - dayend + 1}</li>`
        }
    
        // Update the text of the current date element 
        // with the formatted current month and year
        currdate.innerText = `${months[month]} ${year}`;
    
        // update the HTML of the dates element 
        // with the generated calendar
        day.innerHTML = lit;
    }
    const attachDateClickEvent = () => {
    document.querySelectorAll('.calendar-dates li').forEach(dateElement => {
        dateElement.addEventListener('click', () => {
            // Remove active class from previously selected date
            document.querySelectorAll('.calendar-dates li.active').forEach(activeDate => {
                activeDate.classList.remove('active');
            });
            // Add active class to the clicked date
            dateElement.classList.add('active');
        });
    });
};
    manipulate();
    attachDateClickEvent();
    
    // Attach a click event listener to each icon
    prenexIcons.forEach(icon => {
    
        // When an icon is clicked
        icon.addEventListener("click", () => {
    
            // Check if the icon is "calendar-prev"
            // or "calendar-next"
            month = icon.id === "calendar-prev" ? month - 1 : month + 1;
    
            // Check if the month is out of range
            if (month < 0 || month > 11) {
    
                // Set the date to the first day of the 
                // month with the new year
                date = new Date(year, month, new Date().getDate());
    
                // Set the year to the new year
                year = date.getFullYear();
    
                // Set the month to the new month
                month = date.getMonth();
            }
    
            else {
    
                // Set the date to the current date
                date = new Date();
            }
    
            // Call the manipulate function to 
            // update the calendar display
            manipulate();
            attachDateClickEvent();
        });
    });
    


    </script>
    <!-- <script>
        window.addEventListener('load', function() {
            let numSpan = document.querySelector('.num span');
            let minusBtn = document.getElementsByClassName('.minus');
            let plusBtn = document.getElementsByClassName('.plus');

            let num = 1;

            // 點擊減號按鈕
            minusBtn.addEventListener('click', function() {
                if (num > 0) {
                    num--;
                    numSpan.textContent = num;
                }
            });

            // 點擊加號按鈕
            plusBtn.addEventListener('click', function() {
                num++;
                numSpan.textContent = num;
            });
        });
    </script> -->
    <script>
        
        window.addEventListener('DOMContentLoaded', function() {
            const numSpan = document.querySelector('.num span');
            const minusBtn = document.querySelector('.minus');
            const plusBtn = document.querySelector('.plus');
            const total = document.querySelector('.total')
            let num = 1;
            let  price = 300;
            // 點擊減號按鈕
            minusBtn.addEventListener('click', function() {
                if (num > 1) {
                    num--;
                    numSpan.textContent = num;
                    total.textContent = `$ ${price * num}`;
                }
            });

            // 點擊加號按鈕
            plusBtn.addEventListener('click', function() {
                num++;
                numSpan.textContent = num;
                total.textContent =`$ ${price * num}`;
            });

            
        });
        document.addEventListener('DOMContentLoaded', function() {
            const labels = document.querySelectorAll('.time-select label');

            labels.forEach(function(label) {
                label.addEventListener('click', function() {
                    // 先移除所有 label 的背景顏色
                    labels.forEach(function(el) {
                        el.style.backgroundColor = '';
                        el.style.color = '';
                    });
                    // 添加點擊的 label 的背景顏色
                    label.style.backgroundColor = '#FFBF00';
                    label.style.color = '#fff'
                });
            });
        });
    </script>
</body>
</html>